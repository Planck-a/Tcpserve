class MemoryBllock{
public:
	MemoryAlloc* pAlloc;//所属大内存块（池）
	MemoryBlock* pNext;//下一块位置
	int nID;//内存块编号
	int nRef;//引用次数
	bool bPool;//是否在内存池中
}

MemoryBlloc是内存块的首部，内存池中所有的内存块是用链表相连的，每个首部中标记了这个内存块在内存池中的位置以及下个块的指针;

class MemoryAlloc
{
public:
  MemoryAlloc();
  ~MemoryAlloc();  
  void initMemory();//初始化池
  void* allocMemory(size_t nSize);//在块中申请内存，符合池子大小的，返回分配好的池中内存块地址；不符合的，向系统进行申请
  void freeMemory(void* pMem);//释放内存，从池中拿出的，归还到链表中；向系统申请的，就直接delete

protected:
	char* _pBuf;//内存池地址
	MemoryBlock* _pHeader;//头部内存单元
	size_t _nSzie;//内存单元的大小
	size_t _nBlockSzie;//内存单元的数量
	std::mutex _mutex;  

}
